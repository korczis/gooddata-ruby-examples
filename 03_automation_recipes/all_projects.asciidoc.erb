=== Perform an operation on multiple projects
by Tomas Svarovsky

==== TODO
- create scheduling
- check if it works
- link other recipes

==== Problem
You already know how to do many things but now you would like to do the same thing on many projects at once

==== Solution

The basis of the solution is pretty simple. We need to iterate over projects and perform the operation on each of those. So we do something real in the projects we will combine several other recipes so you can see how to combine recipes to solve more complex problems. So this is what we will do.

We will compile a list of reports from each project which were changed in last week by somebody from gooddata. If there is more than one revision we assume that this is something that is changing more often and we will create a scheduled email for our testing department to verify their correctness. Also to make their life a little easier we tag the reports by tag "to_be_checked".

This is a lot to do. Let's try to break the tasks down to smaller pieces.

===== Work with many projects

<%= render_ruby 'src/03_automation_recipes/with_many_projects.rb' %>

===== Select specific reports

<%= render_ruby 'src/03_automation_recipes/select_reports.rb' %>

===== Remove tag

<%= render_ruby 'src/03_automation_recipes/remove_tag.rb' %>

===== Add tag

<%= render_ruby 'src/03_automation_recipes/add_tag.rb' %>

===== Schedule

<%= render_ruby 'src/03_automation_recipes/schedule.rb' %>

===== Full example - all pieces together

<%= render_ruby 'src/03_automation_recipes/perform_an_operation_on_multiple_projects.rb' %>

==== Discussion

- discuss parallel execution
- discuss several ways to pass project pids
